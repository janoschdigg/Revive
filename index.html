<!DOCTYPE html>
<html>

<head>
  <!-- TEst -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta charset="UTF-8">
  <link rel="manifest" href="/manifest.json">

  <link rel="apple-touch-icon" href="images/icon.png">
  <link rel="apple-touch-icon" sizes="152x152" href="images/icon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/icon.png">
  <link rel="apple-touch-icon" sizes="167x167" href="images/icon.png">

  <link rel="apple-touch-startup-image" href="images/icon.png"
    media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="images/icon.png"
    media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="images/icon.png"
    media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="images/icon.png"
    media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="images/icon.png"
    media="(min-device-width: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="images/icon.png"
    media="(min-device-width: 834px) and (max-device-width: 834px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
  <link rel="apple-touch-startup-image" href="images/icon.png"
    media="(min-device-width: 1024px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">


  <link rel="stylesheet" href="style/style.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
  <script>ons.disableAutoStyling()</script>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
  <script src="js/scripts.js"></script>
</head>

<script>
  checktab();
  
  function showinfos()
  {
    showonline();
    changetab();
  }
  
  function showonline(){
    document.getElementById("banner").style.display = "none";
  }
  
  function checktab()
  {
    if(ons.platform.isAndroid())
    {
      var icon = "<img id='shareicon'  src='images/sharegoogle.png'> oder <img id='shareicon'  src='images/sharegoogle2.png'>";
      var text ="zum Startbildschirm hinzufügen";
    }
    else
    {
      var icon = "<img id='shareicon'  src='images/share.png'>";
      var text ="zum Home-Bildschirm";
    }
    
      if (window.navigator.standalone == true || window.matchMedia('(display-mode: standalone)').matches) 
      {

      }
      else{
      document.write("<div class='homescreen_banner' id = 'banner'><h1>Herzlich wilkommen</h1>  <h2>bei Revive</h2>  <img src='images/bird.png' id='logo_banner' alt='Logo' ><button id='homescreen' class='add-button'>Add to home screen</button><ons-button modifier='large--quiet' onclick='showonline()'>Online anzeigen</ons-button>  <p>    Sie können die App herunterladen indem sie auf folgendes Symbol klicken "+ icon +" und dann auf \""+ text +"\" klicken  </p></div>");

      }
       
    
  }
  
    
  </script>

<body>

  <!-- Loading Animation -->
  <div class="center" id="loading">
    <img src="images/bird.png">
    <div class="loader center"></div>
  </div>


  <ons-navigator swipeable id="myNavigator" page="home.html"></ons-navigator>

  <template id="home.html">
    <ons-page id="page1">
      <ons-toolbar>
        <div class="center">Revive</div>
      </ons-toolbar>
      <ons-tabbar id="tabbar">
        <ons-tab page="tab1.html" icon="ion-md-calendar" label="Angebote"></ons-tab>
        <ons-tab page="churches.html" icon="ion-md-home" label="Kirchen"></ons-tab>

      </ons-tabbar>
    </ons-page>


  </template>
  <template id="tab1.html">
    <ons-page id="Tab1">
      <ons-card onclick="reloadactivities()" style="text-align: center;">
        <span>Alle Anzeigen</span>
        <ons-icon style="font-size: 24px;  margin-left: 10px; color: darkgrey;" icon="ion-md-refresh"></ons-icon>
      </ons-card>
      <div class="selectors">
        <div onclick="printActivities(2)" class="catselector sel1">
          <p>Outreach</p>
        </div>
        <div onclick="printActivities(1)" class="catselector sel2">
          <p>S.O.S</p>
        </div>
        <div onclick="printActivities(3)" class="catselector sel3">
          <p>Events</p>
        </div>
        <div onclick="printActivities(4)" class="catselector sel4">
          <p>Equip</p>
        </div>
      </div>

      <div id="acitivities">

      </div>
    </ons-page>
  </template>
  <template id="churches.html">
    <ons-page id="Tab2">

      <div >
        <ons-list  id="churches">

        </ons-list>
      </div>

    </ons-page>
  </template>
 

  <template id="details.html">
    <ons-page id="details">
      <ons-toolbar>
        <div class="left">
          <ons-back-button>Home</ons-back-button>
        </div>
        <div class="center">Details</div>
      </ons-toolbar>
      <div id="detailsContainer">

      </div>
    </ons-page>
  </template>

</body>

</html>
<script>
  document.addEventListener('prechange', function (event) {
    document.querySelector('ons-toolbar .center')
      .innerHTML = event.tabItem.getAttribute('label');
  });

  function detail(id) {
    getDetailData(id);
    document.querySelector('#myNavigator').pushPage('details.html', { data: { title: 'Detailansicht' } });

  }




</script>